import{s as H,e as y,c as v,b as x,f as m,y as b,i as M,z as Q,t as R,a as D,d as U,g as w,h as g,j as W,A as V,B as q,k as X,n as T}from"../chunks/scheduler.DrDOSCrp.js";import{S as L,i as N,t as k,g as I,e as S,b as $,c as F,a as G,m as J,d as K}from"../chunks/index.BljkXhbZ.js";import{e as C,u as Y,o as Z,t as tt,c as et}from"../chunks/Icon.C5GaHf5i.js";import"../chunks/tag.COAFjn-V.js";import{T as st}from"../chunks/TaskItem.Ci0qgFEo.js";import{f as E}from"../chunks/format.DS6QGfyw.js";const lt=()=>({}),kt=Object.freeze(Object.defineProperty({__proto__:null,load:lt},Symbol.toStringTag,{value:"Module"}));function A(c,t,a){const s=c.slice();return s[3]=t[a][0],s[4]=t[a][1],s}function P(c,t,a){const s=c.slice();return s[7]=t[a],s}function z(c,t){let a,s,l;return s=new st({props:{task:t[7]}}),s.$on("complete",t[1]),{key:c,first:null,c(){a=V(),F(s.$$.fragment),this.h()},l(o){a=V(),G(s.$$.fragment,o),this.h()},h(){this.first=a},m(o,e){M(o,a,e),J(s,o,e),l=!0},p(o,e){t=o;const n={};e&1&&(n.task=t[7]),s.$set(n)},i(o){l||(k(s.$$.fragment,o),l=!0)},o(o){$(s.$$.fragment,o),l=!1},d(o){o&&m(a),K(s,o)}}}function B(c){let t,a,s=E(new Date(c[3]),"MMMM d, yyyy")+"",l,o,e,n=[],r=new Map,h,p,u=C(c[4]);const _=i=>i[7].id;for(let i=0;i<u.length;i+=1){let f=P(c,u,i),d=_(f);r.set(d,n[i]=z(d,f))}return{c(){t=y("div"),a=y("h3"),l=R(s),o=D(),e=y("div");for(let i=0;i<n.length;i+=1)n[i].c();h=D(),this.h()},l(i){t=v(i,"DIV",{class:!0});var f=x(t);a=v(f,"H3",{class:!0});var d=x(a);l=U(d,s),d.forEach(m),o=w(f),e=v(f,"DIV",{class:!0});var O=x(e);for(let j=0;j<n.length;j+=1)n[j].l(O);O.forEach(m),h=w(f),f.forEach(m),this.h()},h(){b(a,"class","text-sm font-medium text-navy-500 font-jetbrains-mono"),b(e,"class","space-y-2"),b(t,"class","space-y-2")},m(i,f){M(i,t,f),g(t,a),g(a,l),g(t,o),g(t,e);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);g(t,h),p=!0},p(i,f){(!p||f&1)&&s!==(s=E(new Date(i[3]),"MMMM d, yyyy")+"")&&W(l,s),f&3&&(u=C(i[4]),I(),n=Y(n,f,_,1,i,u,r,e,Z,z,null,P),S())},i(i){if(!p){for(let f=0;f<u.length;f+=1)k(n[f]);p=!0}},o(i){for(let f=0;f<n.length;f+=1)$(n[f]);p=!1},d(i){i&&m(t);for(let f=0;f<n.length;f+=1)n[f].d()}}}function nt(c){let t,a,s=C(Object.entries(c[0])),l=[];for(let e=0;e<s.length;e+=1)l[e]=B(A(c,s,e));const o=e=>$(l[e],1,1,()=>{l[e]=null});return{c(){t=y("div");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){t=v(e,"DIV",{class:!0});var n=x(t);for(let r=0;r<l.length;r+=1)l[r].l(n);n.forEach(m),this.h()},h(){b(t,"class","space-y-8")},m(e,n){M(e,t,n);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(t,null);a=!0},p(e,[n]){if(n&3){s=C(Object.entries(e[0]));let r;for(r=0;r<s.length;r+=1){const h=A(e,s,r);l[r]?(l[r].p(h,n),k(l[r],1)):(l[r]=B(h),l[r].c(),k(l[r],1),l[r].m(t,null))}for(I(),r=s.length;r<l.length;r+=1)o(r);S()}},i(e){if(!a){for(let n=0;n<s.length;n+=1)k(l[n]);a=!0}},o(e){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)$(l[n]);a=!1},d(e){e&&m(t),Q(l,e)}}}function at(c,t,a){let s,{tasks:l}=t;function o(e){const n=l.find(r=>r.id===e.detail.id);n&&tt.updateTask(n.id,{status:"todo",completedAt:void 0,dueDate:new Date})}return c.$$set=e=>{"tasks"in e&&a(2,l=e.tasks)},c.$$.update=()=>{c.$$.dirty&4&&a(0,s=l.reduce((e,n)=>{const r=E(n.completedAt,"yyyy-MM-dd");return e[r]||(e[r]=[]),e[r].push(n),e},{}))},[s,o,l]}class ot extends L{constructor(t){super(),N(this,t,at,nt,H,{tasks:2})}}function rt(c){let t,a;return t=new ot({props:{tasks:c[0]}}),{c(){F(t.$$.fragment)},l(s){G(t.$$.fragment,s)},m(s,l){J(t,s,l),a=!0},p(s,l){const o={};l&1&&(o.tasks=s[0]),t.$set(o)},i(s){a||(k(t.$$.fragment,s),a=!0)},o(s){$(t.$$.fragment,s),a=!1},d(s){K(t,s)}}}function ct(c){let t,a="No completed tasks";return{c(){t=y("p"),t.textContent=a,this.h()},l(s){t=v(s,"P",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-u3g990"&&(t.textContent=a),this.h()},h(){b(t,"class","text-navy-500 text-center py-8 font-jetbrains-mono")},m(s,l){M(s,t,l)},p:T,i:T,o:T,d(s){s&&m(t)}}}function it(c){let t,a,s="Completed Tasks",l,o,e,n;const r=[ct,rt],h=[];function p(u,_){return u[0].length===0?0:1}return o=p(c),e=h[o]=r[o](c),{c(){t=y("div"),a=y("h2"),a.textContent=s,l=D(),e.c(),this.h()},l(u){t=v(u,"DIV",{class:!0});var _=x(t);a=v(_,"H2",{class:!0,"data-svelte-h":!0}),q(a)!=="svelte-87btjh"&&(a.textContent=s),l=w(_),e.l(_),_.forEach(m),this.h()},h(){b(a,"class","text-2xl font-bold text-navy-900 font-jetbrains-mono"),b(t,"class","space-y-6")},m(u,_){M(u,t,_),g(t,a),g(t,l),h[o].m(t,null),n=!0},p(u,[_]){let i=o;o=p(u),o===i?h[o].p(u,_):(I(),$(h[i],1,1,()=>{h[i]=null}),S(),e=h[o],e?e.p(u,_):(e=h[o]=r[o](u),e.c()),k(e,1),e.m(t,null))},i(u){n||(k(e),n=!0)},o(u){$(e),n=!1},d(u){u&&m(t),h[o].d()}}}function ft(c,t,a){let s;return X(c,et,l=>a(0,s=l)),[s]}class gt extends L{constructor(t){super(),N(this,t,ft,it,H,{})}}export{gt as component,kt as universal};
