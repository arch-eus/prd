import{s as H,l as F,m as Y,o as le,u as ae,p as re,q as oe,e as b,c as D,b as T,f as d,y as g,i as C,Q as ce,A as B,B as ie,n as z,t as L,a as I,d as Q,g as V,h as m,C as R,j as J,v as Oe,z as de,H as Ae,J as Pe,L as qe,P as Ue,M as ze,k as x,a7 as Fe}from"../chunks/scheduler.DrDOSCrp.js";import{S as W,i as q,c as S,a as j,m as O,t as _,b as k,d as A,g as K,e as X,f as Be,h as ve}from"../chunks/index.BljkXhbZ.js";import{d as Le,I as he,g as me,a as _e,t as ne,e as G,u as Qe,o as Re,s as ue,b as fe,h as Ge,f as Je}from"../chunks/Icon.C5GaHf5i.js";import{T as Ke,a as Xe,s as Ye}from"../chunks/tag.COAFjn-V.js";import{T as Ze}from"../chunks/TaskItem.Ci0qgFEo.js";import{i as se,a as xe,X as et,T as tt}from"../chunks/TaskFormModal.CUYTaMxC.js";import{c as st,f as ee,s as nt}from"../chunks/format.DS6QGfyw.js";import{f as $e}from"../chunks/index.CSbLPxVj.js";function He(r,e){const l=Le(r);return isNaN(e)?st(r,NaN):(e&&l.setDate(l.getDate()+e),l)}function We(r,e){const l=e*7;return He(r,l)}function lt(r,e){return We(r,-e)}function at(r){let e;const l=r[2].default,t=le(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ae(t,l,s,s[3],e?oe(l,s[3],n,null):re(s[3]),null)},i(s){e||(_(t,s),e=!0)},o(s){k(t,s),e=!1},d(s){t&&t.d(s)}}}function rt(r){let e,l;const t=[{name:"calendar-days"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[at]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=F(s,t[n]);return e=new he({props:s}),{c(){S(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,a){O(e,n,a),l=!0},p(n,[a]){const i=a&3?me(t,[t[0],a&2&&_e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){k(e.$$.fragment,n),l=!1},d(n){A(e,n)}}}function ot(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10"}],["path",{d:"M8 14h.01"}],["path",{d:"M12 14h.01"}],["path",{d:"M16 14h.01"}],["path",{d:"M8 18h.01"}],["path",{d:"M12 18h.01"}],["path",{d:"M16 18h.01"}]];return r.$$set=a=>{l(1,e=F(F({},e),Y(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=Y(e),[n,e,t,s]}class it extends W{constructor(e){super(),q(this,e,ot,rt,H,{})}}function ft(r){let e;const l=r[2].default,t=le(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ae(t,l,s,s[3],e?oe(l,s[3],n,null):re(s[3]),null)},i(s){e||(_(t,s),e=!0)},o(s){k(t,s),e=!1},d(s){t&&t.d(s)}}}function ct(r){let e,l;const t=[{name:"chevron-left"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[ft]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=F(s,t[n]);return e=new he({props:s}),{c(){S(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,a){O(e,n,a),l=!0},p(n,[a]){const i=a&3?me(t,[t[0],a&2&&_e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){k(e.$$.fragment,n),l=!1},d(n){A(e,n)}}}function ut(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"m15 18-6-6 6-6"}]];return r.$$set=a=>{l(1,e=F(F({},e),Y(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=Y(e),[n,e,t,s]}class dt extends W{constructor(e){super(),q(this,e,ut,ct,H,{})}}function ht(r){let e;const l=r[2].default,t=le(l,r,r[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ae(t,l,s,s[3],e?oe(l,s[3],n,null):re(s[3]),null)},i(s){e||(_(t,s),e=!0)},o(s){k(t,s),e=!1},d(s){t&&t.d(s)}}}function mt(r){let e,l;const t=[{name:"chevron-right"},r[1],{iconNode:r[0]}];let s={$$slots:{default:[ht]},$$scope:{ctx:r}};for(let n=0;n<t.length;n+=1)s=F(s,t[n]);return e=new he({props:s}),{c(){S(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,a){O(e,n,a),l=!0},p(n,[a]){const i=a&3?me(t,[t[0],a&2&&_e(n[1]),a&1&&{iconNode:n[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:n}),e.$set(i)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){k(e.$$.fragment,n),l=!1},d(n){A(e,n)}}}function _t(r,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"m9 18 6-6-6-6"}]];return r.$$set=a=>{l(1,e=F(F({},e),Y(a))),"$$scope"in a&&l(3,s=a.$$scope)},e=Y(e),[n,e,t,s]}class pt extends W{constructor(e){super(),q(this,e,_t,mt,H,{})}}const gt=()=>({}),ss=Object.freeze(Object.defineProperty({__proto__:null,load:gt},Symbol.toStringTag,{value:"Module"}));function ke(r,e,l){const t=r.slice();return t[5]=e[l],t}function vt(r){let e=[],l=new Map,t,s,n=G(r[0]);const a=i=>i[5].id;for(let i=0;i<n.length;i+=1){let o=ke(r,n,i),f=a(o);l.set(f,e[i]=be(f,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=B()},l(i){for(let o=0;o<e.length;o+=1)e[o].l(i);t=B()},m(i,o){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(i,o);C(i,t,o),s=!0},p(i,o){o&3&&(n=G(i[0]),K(),e=Qe(e,o,a,1,i,n,l,t.parentNode,Re,be,t,ke),X())},i(i){if(!s){for(let o=0;o<n.length;o+=1)_(e[o]);s=!0}},o(i){for(let o=0;o<e.length;o+=1)k(e[o]);s=!1},d(i){i&&d(t);for(let o=0;o<e.length;o+=1)e[o].d(i)}}}function $t(r){let e,l="No tasks for this day";return{c(){e=b("p"),e.textContent=l,this.h()},l(t){e=D(t,"P",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-rglnoy"&&(e.textContent=l),this.h()},h(){g(e,"class","text-center text-navy-500 py-8")},m(t,s){C(t,e,s)},p:z,i:z,o:z,d(t){t&&d(e)}}}function be(r,e){let l,t,s;function n(){return e[2](e[5])}return t=new Ze({props:{task:e[5]}}),t.$on("complete",e[1]),t.$on("delete",n),t.$on("edit",e[3]),t.$on("showDetails",e[4]),{key:r,first:null,c(){l=B(),S(t.$$.fragment),this.h()},l(a){l=B(),j(t.$$.fragment,a),this.h()},h(){this.first=l},m(a,i){C(a,l,i),O(t,a,i),s=!0},p(a,i){e=a;const o={};i&1&&(o.task=e[5]),t.$set(o)},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){k(t.$$.fragment,a),s=!1},d(a){a&&d(l),A(t,a)}}}function kt(r){let e,l,t,s;const n=[$t,vt],a=[];function i(o,f){return o[0].length===0?0:1}return l=i(r),t=a[l]=n[l](r),{c(){e=b("div"),t.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var f=T(e);t.l(f),f.forEach(d),this.h()},h(){g(e,"class","space-y-4")},m(o,f){C(o,e,f),a[l].m(e,null),s=!0},p(o,[f]){let h=l;l=i(o),l===h?a[l].p(o,f):(K(),k(a[h],1,1,()=>{a[h]=null}),X(),t=a[l],t?t.p(o,f):(t=a[l]=n[l](o),t.c()),_(t,1),t.m(e,null))},i(o){s||(_(t),s=!0)},o(o){k(t),s=!1},d(o){o&&d(e),a[l].d()}}}function bt(r,e,l){let{tasks:t=[]}=e;function s(o){const f=t.find(h=>h.id===o.detail.id);f&&ne.updateTask(f.id,{status:f.status==="completed"?"todo":"completed",completedAt:f.status==="completed"?void 0:new Date})}const n=o=>ne.deleteTask(o.id);function a(o){ce.call(this,r,o)}function i(o){ce.call(this,r,o)}return r.$$set=o=>{"tasks"in o&&l(0,t=o.tasks)},[t,s,n,a,i]}class Dt extends W{constructor(e){super(),q(this,e,bt,kt,H,{tasks:0})}}function wt(r){let e,l,t,s=ee(r[0],"MMMM yyyy")+"",n,a,i,o,f,h,w,$,u,c,M,E,p,v;return o=new it({props:{class:"w-5 h-5"}}),$=new dt({props:{class:"w-4 h-4"}}),M=new pt({props:{class:"w-4 h-4"}}),{c(){e=b("div"),l=b("div"),t=b("h2"),n=L(s),a=I(),i=b("button"),S(o.$$.fragment),f=I(),h=b("div"),w=b("button"),S($.$$.fragment),u=I(),c=b("button"),S(M.$$.fragment),this.h()},l(N){e=D(N,"DIV",{class:!0});var P=T(e);l=D(P,"DIV",{class:!0});var y=T(l);t=D(y,"H2",{class:!0});var U=T(t);n=Q(U,s),U.forEach(d),a=V(y),i=D(y,"BUTTON",{class:!0,title:!0});var Z=T(i);j(o.$$.fragment,Z),Z.forEach(d),y.forEach(d),f=V(P),h=D(P,"DIV",{class:!0});var te=T(h);w=D(te,"BUTTON",{class:!0,title:!0});var pe=T(w);j($.$$.fragment,pe),pe.forEach(d),u=V(te),c=D(te,"BUTTON",{class:!0,title:!0});var ge=T(c);j(M.$$.fragment,ge),ge.forEach(d),te.forEach(d),P.forEach(d),this.h()},h(){g(t,"class","text-2xl font-bold text-navy-900"),g(i,"class","p-1 hover:text-navy-600 transition-colors"),g(i,"title","Go to today"),g(l,"class","flex items-center gap-2"),g(w,"class","p-2 hover:bg-navy-50 rounded-full transition-colors"),g(w,"title","Previous week"),g(c,"class","p-2 hover:bg-navy-50 rounded-full transition-colors"),g(c,"title","Next week"),g(h,"class","flex items-center gap-1"),g(e,"class","flex items-center justify-between font-jetbrains-mono mb-4")},m(N,P){C(N,e,P),m(e,l),m(l,t),m(t,n),m(l,a),m(l,i),O(o,i,null),m(e,f),m(e,h),m(h,w),O($,w,null),m(h,u),m(h,c),O(M,c,null),E=!0,p||(v=[R(i,"click",r[1]),R(w,"click",r[2]),R(c,"click",r[3])],p=!0)},p(N,[P]){(!E||P&1)&&s!==(s=ee(N[0],"MMMM yyyy")+"")&&J(n,s)},i(N){E||(_(o.$$.fragment,N),_($.$$.fragment,N),_(M.$$.fragment,N),E=!0)},o(N){k(o.$$.fragment,N),k($.$$.fragment,N),k(M.$$.fragment,N),E=!1},d(N){N&&d(e),A(o),A($),A(M),p=!1,Oe(v)}}}function yt(r,e,l){let{currentDate:t}=e;function s(){l(0,t=new Date)}function n(){l(0,t=lt(t,1))}function a(){l(0,t=We(t,1))}return r.$$set=i=>{"currentDate"in i&&l(0,t=i.currentDate)},[t,s,n,a]}class Tt extends W{constructor(e){super(),q(this,e,yt,wt,H,{currentDate:0})}}function Et(r,e,l){const t=r.slice();return t[0]=e[l],t}function Nt(r){let e,l;return{c(){e=b("div"),l=L(r[0]),this.h()},l(t){e=D(t,"DIV",{class:!0});var s=T(e);l=Q(s,r[0]),s.forEach(d),this.h()},h(){g(e,"class","text-center p-2")},m(t,s){C(t,e,s),m(e,l)},p:z,d(t){t&&d(e)}}}function Mt(r){let e,l=G(["M","T","W","T","F","S","S"]),t=[];for(let s=0;s<7;s+=1)t[s]=Nt(Et(r,l,s));return{c(){e=b("div");for(let s=0;s<7;s+=1)t[s].c();this.h()},l(s){e=D(s,"DIV",{class:!0});var n=T(e);for(let a=0;a<7;a+=1)t[a].l(n);n.forEach(d),this.h()},h(){g(e,"class","grid grid-cols-7 gap-1 mb-1 text-sm font-medium text-navy-400 font-jetbrains-mono")},m(s,n){C(s,e,n);for(let a=0;a<7;a+=1)t[a]&&t[a].m(e,null)},p:z,i:z,o:z,d(s){s&&d(e),de(t,s)}}}class Ct extends W{constructor(e){super(),q(this,e,null,Mt,H,{})}}function De(r,e,l){const t=r.slice();return t[6]=e[l],t}function we(r){let e,l=ee(r[6],"d")+"",t,s,n,a,i;function o(){return r[5](r[6])}return{c(){e=b("button"),t=L(l),s=I(),this.h()},l(f){e=D(f,"BUTTON",{class:!0});var h=T(e);t=Q(h,l),s=V(h),h.forEach(d),this.h()},h(){g(e,"class",n="w-8 h-8 mx-auto flex items-center justify-center rounded-full transition-colors relative "+(se(r[6])?"text-teal-600 font-bold ring-2 ring-teal-500":"text-navy-800")+" "+(r[2](r[6])?"bg-navy-600 !text-white":"")+" "+(!se(r[6])&&!r[2](r[6])?"hover:bg-navy-50":""))},m(f,h){C(f,e,h),m(e,t),m(e,s),a||(i=R(e,"click",o),a=!0)},p(f,h){r=f,h&2&&l!==(l=ee(r[6],"d")+"")&&J(t,l),h&2&&n!==(n="w-8 h-8 mx-auto flex items-center justify-center rounded-full transition-colors relative "+(se(r[6])?"text-teal-600 font-bold ring-2 ring-teal-500":"text-navy-800")+" "+(r[2](r[6])?"bg-navy-600 !text-white":"")+" "+(!se(r[6])&&!r[2](r[6])?"hover:bg-navy-50":""))&&g(e,"class",n)},d(f){f&&d(e),a=!1,i()}}}function It(r){let e,l,t,s,n,a,i,o,f;function h(c){r[4](c)}let w={};r[0]!==void 0&&(w.currentDate=r[0]),l=new Tt({props:w}),Ae.push(()=>Be(l,"currentDate",h)),a=new Ct({});let $=G(r[1]),u=[];for(let c=0;c<$.length;c+=1)u[c]=we(De(r,$,c));return{c(){e=b("div"),S(l.$$.fragment),s=I(),n=b("div"),S(a.$$.fragment),i=I(),o=b("div");for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=D(c,"DIV",{class:!0});var M=T(e);j(l.$$.fragment,M),s=V(M),n=D(M,"DIV",{class:!0});var E=T(n);j(a.$$.fragment,E),i=V(E),o=D(E,"DIV",{class:!0});var p=T(o);for(let v=0;v<u.length;v+=1)u[v].l(p);p.forEach(d),E.forEach(d),M.forEach(d),this.h()},h(){g(o,"class","grid grid-cols-7 gap-1"),g(n,"class","mt-4 max-w-screen-sm"),g(e,"class","mb-8 font-jetbrains-mono")},m(c,M){C(c,e,M),O(l,e,null),m(e,s),m(e,n),O(a,n,null),m(n,i),m(n,o);for(let E=0;E<u.length;E+=1)u[E]&&u[E].m(o,null);f=!0},p(c,[M]){const E={};if(!t&&M&1&&(t=!0,E.currentDate=c[0],Pe(()=>t=!1)),l.$set(E),M&7){$=G(c[1]);let p;for(p=0;p<$.length;p+=1){const v=De(c,$,p);u[p]?u[p].p(v,M):(u[p]=we(v),u[p].c(),u[p].m(o,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=$.length}},i(c){f||(_(l.$$.fragment,c),_(a.$$.fragment,c),f=!0)},o(c){k(l.$$.fragment,c),k(a.$$.fragment,c),f=!1},d(c){c&&d(e),A(l),A(a),de(u,c)}}}function Vt(r,e,l){let t,s,{selectedDate:n=ue(new Date)}=e;function a(f){return xe(f,n)}function i(f){n=f,l(0,n)}const o=f=>l(0,n=ue(f));return r.$$set=f=>{"selectedDate"in f&&l(0,n=f.selectedDate)},r.$$.update=()=>{r.$$.dirty&1&&l(3,t=nt(n,{weekStartsOn:1})),r.$$.dirty&8&&l(1,s=Array.from({length:7},(f,h)=>He(t,h)))},[n,s,a,t,i,o]}class St extends W{constructor(e){super(),q(this,e,Vt,It,H,{selectedDate:0})}}function ye(r){let e,l,t="Description",s,n,a;return{c(){e=b("div"),l=b("h3"),l.textContent=t,s=I(),n=b("p"),a=L(r[0]),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=T(e);l=D(o,"H3",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-4dxazx"&&(l.textContent=t),s=V(o),n=D(o,"P",{class:!0});var f=T(n);a=Q(f,r[0]),f.forEach(d),o.forEach(d),this.h()},h(){g(l,"class","text-sm font-medium text-navy-700 mb-1"),g(n,"class","text-navy-600"),g(e,"class","mt-2")},m(i,o){C(i,e,o),m(e,l),m(e,s),m(e,n),m(n,a)},p(i,o){o&1&&J(a,i[0])},d(i){i&&d(e)}}}function Te(r){let e,l,t="Notes",s,n,a;return{c(){e=b("div"),l=b("h3"),l.textContent=t,s=I(),n=b("p"),a=L(r[1]),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=T(e);l=D(o,"H3",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-giqurq"&&(l.textContent=t),s=V(o),n=D(o,"P",{class:!0});var f=T(n);a=Q(f,r[1]),f.forEach(d),o.forEach(d),this.h()},h(){g(l,"class","text-sm font-medium text-navy-700 mb-1"),g(n,"class","text-navy-600 whitespace-pre-line"),g(e,"class","mt-2")},m(i,o){C(i,e,o),m(e,l),m(e,s),m(e,n),m(n,a)},p(i,o){o&2&&J(a,i[1])},d(i){i&&d(e)}}}function jt(r){let e,l,t=r[0]&&ye(r),s=r[1]&&Te(r);return{c(){t&&t.c(),e=I(),s&&s.c(),l=B()},l(n){t&&t.l(n),e=V(n),s&&s.l(n),l=B()},m(n,a){t&&t.m(n,a),C(n,e,a),s&&s.m(n,a),C(n,l,a)},p(n,[a]){n[0]?t?t.p(n,a):(t=ye(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),n[1]?s?s.p(n,a):(s=Te(n),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},i:z,o:z,d(n){n&&(d(e),d(l)),t&&t.d(n),s&&s.d(n)}}}function Ot(r,e,l){let{description:t}=e,{notes:s}=e;return r.$$set=n=>{"description"in n&&l(0,t=n.description),"notes"in n&&l(1,s=n.notes)},[t,s]}class At extends W{constructor(e){super(),q(this,e,Ot,jt,H,{description:0,notes:1})}}function Ee(r,e,l){const t=r.slice();return t[1]=e[l],t}function Ne(r){let e,l,t=G(r[0]),s=[];for(let a=0;a<t.length;a+=1)s[a]=Me(Ee(r,t,a));const n=a=>k(s[a],1,1,()=>{s[a]=null});return{c(){e=b("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=D(a,"DIV",{class:!0});var i=T(e);for(let o=0;o<s.length;o+=1)s[o].l(i);i.forEach(d),this.h()},h(){g(e,"class","flex gap-1 flex-wrap")},m(a,i){C(a,e,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(e,null);l=!0},p(a,i){if(i&1){t=G(a[0]);let o;for(o=0;o<t.length;o+=1){const f=Ee(a,t,o);s[o]?(s[o].p(f,i),_(s[o],1)):(s[o]=Me(f),s[o].c(),_(s[o],1),s[o].m(e,null))}for(K(),o=t.length;o<s.length;o+=1)n(o);X()}},i(a){if(!l){for(let i=0;i<t.length;i+=1)_(s[i]);l=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)k(s[i]);l=!1},d(a){a&&d(e),de(s,a)}}}function Me(r){let e,l,t,s=r[1]+"",n,a,i;return l=new Ke({props:{class:"w-3 h-3"}}),{c(){e=b("span"),S(l.$$.fragment),t=I(),n=L(s),a=I(),this.h()},l(o){e=D(o,"SPAN",{class:!0});var f=T(e);j(l.$$.fragment,f),t=V(f),n=Q(f,s),a=V(f),f.forEach(d),this.h()},h(){g(e,"class","flex items-center gap-1 text-xs bg-navy-50 text-navy-700 px-1.5 py-0.5 rounded")},m(o,f){C(o,e,f),O(l,e,null),m(e,t),m(e,n),m(e,a),i=!0},p(o,f){(!i||f&1)&&s!==(s=o[1]+"")&&J(n,s)},i(o){i||(_(l.$$.fragment,o),i=!0)},o(o){k(l.$$.fragment,o),i=!1},d(o){o&&d(e),A(l)}}}function Pt(r){let e,l,t=r[0].length&&Ne(r);return{c(){t&&t.c(),e=B()},l(s){t&&t.l(s),e=B()},m(s,n){t&&t.m(s,n),C(s,e,n),l=!0},p(s,[n]){s[0].length?t?(t.p(s,n),n&1&&_(t,1)):(t=Ne(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(K(),k(t,1,1,()=>{t=null}),X())},i(s){l||(_(t),l=!0)},o(s){k(t),l=!1},d(s){s&&d(e),t&&t.d(s)}}}function Bt(r,e,l){let{labels:t=[]}=e;return r.$$set=s=>{"labels"in s&&l(0,t=s.labels)},[t]}class Ht extends W{constructor(e){super(),q(this,e,Bt,Pt,H,{labels:0})}}function Ce(r){return ee(r,"MMM d, yyyy")}function Ie(r){let e,l,t="Tags",s,n,a;return n=new Ht({props:{labels:r[0].labels}}),{c(){e=b("div"),l=b("h3"),l.textContent=t,s=I(),S(n.$$.fragment),this.h()},l(i){e=D(i,"DIV",{});var o=T(e);l=D(o,"H3",{class:!0,"data-svelte-h":!0}),ie(l)!=="svelte-t4q3iu"&&(l.textContent=t),s=V(o),j(n.$$.fragment,o),o.forEach(d),this.h()},h(){g(l,"class","text-sm font-medium text-navy-700 mb-1")},m(i,o){C(i,e,o),m(e,l),m(e,s),O(n,e,null),a=!0},p(i,o){const f={};o&1&&(f.labels=i[0].labels),n.$set(f)},i(i){a||(_(n.$$.fragment,i),a=!0)},o(i){k(n.$$.fragment,i),a=!1},d(i){i&&d(e),A(n)}}}function Ve(r){let e,l,t=Ce(r[0].completedAt)+"",s;return{c(){e=b("div"),l=L("Completed on "),s=L(t),this.h()},l(n){e=D(n,"DIV",{class:!0});var a=T(e);l=Q(a,"Completed on "),s=Q(a,t),a.forEach(d),this.h()},h(){g(e,"class","text-sm text-navy-500")},m(n,a){C(n,e,a),m(e,l),m(e,s)},p(n,a){a&1&&t!==(t=Ce(n[0].completedAt)+"")&&J(s,t)},d(n){n&&d(e)}}}function Wt(r){let e,l,t,s,n;l=new At({props:{description:r[0].description,notes:r[0].notes}});let a=r[0].labels?.length&&Ie(r),i=r[0].completedAt&&Ve(r);return{c(){e=b("div"),S(l.$$.fragment),t=I(),a&&a.c(),s=I(),i&&i.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var f=T(e);j(l.$$.fragment,f),t=V(f),a&&a.l(f),s=V(f),i&&i.l(f),f.forEach(d),this.h()},h(){g(e,"class","space-y-4")},m(o,f){C(o,e,f),O(l,e,null),m(e,t),a&&a.m(e,null),m(e,s),i&&i.m(e,null),n=!0},p(o,[f]){const h={};f&1&&(h.description=o[0].description),f&1&&(h.notes=o[0].notes),l.$set(h),o[0].labels?.length?a?(a.p(o,f),f&1&&_(a,1)):(a=Ie(o),a.c(),_(a,1),a.m(e,s)):a&&(K(),k(a,1,1,()=>{a=null}),X()),o[0].completedAt?i?i.p(o,f):(i=Ve(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(o){n||(_(l.$$.fragment,o),_(a),n=!0)},o(o){k(l.$$.fragment,o),k(a),n=!1},d(o){o&&d(e),A(l),a&&a.d(),i&&i.d()}}}function qt(r,e,l){let{task:t}=e;return r.$$set=s=>{"task"in s&&l(0,t=s.task)},[t]}class Ut extends W{constructor(e){super(),q(this,e,qt,Wt,H,{task:0})}}function Se(r){let e,l,t,s,n,a,i,o,f,h,w,$,u,c,M;i=new et({props:{class:"w-5 h-5"}});const E=r[5].default,p=le(E,r,r[4],null);return{c(){e=b("div"),l=b("div"),t=I(),s=b("div"),n=b("div"),a=b("button"),S(i.$$.fragment),o=I(),f=b("h2"),h=L(r[1]),w=I(),p&&p.c(),this.h()},l(v){e=D(v,"DIV",{class:!0});var N=T(e);l=D(N,"DIV",{class:!0}),T(l).forEach(d),t=V(N),s=D(N,"DIV",{class:!0});var P=T(s);n=D(P,"DIV",{class:!0});var y=T(n);a=D(y,"BUTTON",{class:!0});var U=T(a);j(i.$$.fragment,U),U.forEach(d),o=V(y),f=D(y,"H2",{class:!0});var Z=T(f);h=Q(Z,r[1]),Z.forEach(d),w=V(y),p&&p.l(y),y.forEach(d),P.forEach(d),N.forEach(d),this.h()},h(){g(l,"class","fixed inset-0 bg-navy-900/20"),g(a,"class","absolute right-4 top-4 text-navy-400 hover:text-navy-600 transition-colors"),g(f,"class","text-xl font-bold mb-4 text-navy-900"),g(n,"class","p-6"),g(s,"class","relative w-full max-w-lg bg-surface rounded-lg shadow-xl"),g(e,"class","fixed inset-0 z-[100] flex items-center justify-center p-4")},m(v,N){C(v,e,N),m(e,l),m(e,t),m(e,s),m(s,n),m(n,a),O(i,a,null),m(n,o),m(n,f),m(f,h),m(n,w),p&&p.m(n,null),u=!0,c||(M=[R(l,"click",r[2]),R(a,"click",r[2]),R(s,"click",Ue(r[6]))],c=!0)},p(v,N){(!u||N&2)&&J(h,v[1]),p&&p.p&&(!u||N&16)&&ae(p,E,v,v[4],u?oe(E,v[4],N,null):re(v[4]),null)},i(v){u||(_(i.$$.fragment,v),_(p,v),v&&ze(()=>{u&&($||($=ve(e,$e,{duration:200},!0)),$.run(1))}),u=!0)},o(v){k(i.$$.fragment,v),k(p,v),v&&($||($=ve(e,$e,{duration:200},!1)),$.run(0)),u=!1},d(v){v&&d(e),A(i),p&&p.d(v),v&&$&&$.end(),c=!1,Oe(M)}}}function zt(r){let e,l,t,s,n=r[0]&&Se(r);return{c(){n&&n.c(),e=B()},l(a){n&&n.l(a),e=B()},m(a,i){n&&n.m(a,i),C(a,e,i),l=!0,t||(s=R(window,"keydown",r[3]),t=!0)},p(a,[i]){a[0]?n?(n.p(a,i),i&1&&_(n,1)):(n=Se(a),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(K(),k(n,1,1,()=>{n=null}),X())},i(a){l||(_(n),l=!0)},o(a){k(n),l=!1},d(a){a&&d(e),n&&n.d(a),t=!1,s()}}}function Ft(r,e,l){let{$$slots:t={},$$scope:s}=e,{show:n=!1}=e,{title:a}=e;const i=qe();function o(){i("close")}function f(w){w.key==="Escape"&&o()}function h(w){ce.call(this,r,w)}return r.$$set=w=>{"show"in w&&l(0,n=w.show),"title"in w&&l(1,a=w.title),"$$scope"in w&&l(4,s=w.$$scope)},[n,a,o,f,s,t,h]}class Lt extends W{constructor(e){super(),q(this,e,Ft,zt,H,{show:0,title:1})}}function je(r){let e,l;return e=new Ut({props:{task:r[3]}}),e.$on("close",r[15]),{c(){S(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){O(e,t,s),l=!0},p(t,s){const n={};s&8&&(n.task=t[3]),e.$set(n)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function Qt(r){let e,l,t=r[3]&&je(r);return{c(){t&&t.c(),e=B()},l(s){t&&t.l(s),e=B()},m(s,n){t&&t.m(s,n),C(s,e,n),l=!0},p(s,n){s[3]?t?(t.p(s,n),n&8&&_(t,1)):(t=je(s),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(K(),k(t,1,1,()=>{t=null}),X())},i(s){l||(_(t),l=!0)},o(s){k(t),l=!1},d(s){s&&d(e),t&&t.d(s)}}}function Rt(r){let e,l,t,s,n,a,i,o,f,h;function w(u){r[13](u)}let $={};return r[6]!==void 0&&($.selectedDate=r[6]),l=new St({props:$}),Ae.push(()=>Be(l,"selectedDate",w)),n=new tt({props:{show:r[1],task:r[5],isEditing:!!r[0]}}),n.$on("submit",r[7]),n.$on("close",r[14]),i=new Lt({props:{show:r[2],title:"Task Details",$$slots:{default:[Qt]},$$scope:{ctx:r}}}),i.$on("close",r[16]),f=new Dt({props:{tasks:r[4]}}),f.$on("edit",r[17]),f.$on("showDetails",r[8]),{c(){e=b("div"),S(l.$$.fragment),s=I(),S(n.$$.fragment),a=I(),S(i.$$.fragment),o=I(),S(f.$$.fragment),this.h()},l(u){e=D(u,"DIV",{class:!0});var c=T(e);j(l.$$.fragment,c),s=V(c),j(n.$$.fragment,c),a=V(c),j(i.$$.fragment,c),o=V(c),j(f.$$.fragment,c),c.forEach(d),this.h()},h(){g(e,"class","max-w-5xl mx-auto space-y-6")},m(u,c){C(u,e,c),O(l,e,null),m(e,s),O(n,e,null),m(e,a),O(i,e,null),m(e,o),O(f,e,null),h=!0},p(u,[c]){const M={};!t&&c&64&&(t=!0,M.selectedDate=u[6],Pe(()=>t=!1)),l.$set(M);const E={};c&2&&(E.show=u[1]),c&32&&(E.task=u[5]),c&1&&(E.isEditing=!!u[0]),n.$set(E);const p={};c&4&&(p.show=u[2]),c&262156&&(p.$$scope={dirty:c,ctx:u}),i.$set(p);const v={};c&16&&(v.tasks=u[4]),f.$set(v)},i(u){h||(_(l.$$.fragment,u),_(n.$$.fragment,u),_(i.$$.fragment,u),_(f.$$.fragment,u),h=!0)},o(u){k(l.$$.fragment,u),k(n.$$.fragment,u),k(i.$$.fragment,u),k(f.$$.fragment,u),h=!1},d(u){u&&d(e),A(l),A(n),A(i),A(f)}}}function Gt(r,e,l){let t,s,n,a,i,o,f;x(r,Ge,y=>l(9,n=y)),x(r,Xe,y=>l(10,a=y)),x(r,Ye,y=>l(11,i=y)),x(r,Je,y=>l(12,o=y)),x(r,fe,y=>l(6,f=y));let h=!1,w=!1,$=null,u=null;Fe(fe,f=f||ue(new Date),f);function c(y){const U=y.detail.task;$?ne.updateTask($,U):ne.addTask(U),l(1,h=!1),l(0,$=null)}function M(y){l(3,u=n.find(U=>U.id===y.detail.id)),l(2,w=!0)}function E(y){f=y,fe.set(f)}const p=()=>{l(1,h=!1),l(0,$=null)},v=()=>{l(2,w=!1),l(3,u=null)},N=()=>{l(2,w=!1),l(3,u=null)},P=y=>{l(0,$=y.detail.id),l(1,h=!0)};return r.$$.update=()=>{r.$$.dirty&4609&&l(5,t=$?n.find(y=>y.id===$):{labels:o}),r.$$.dirty&3584&&l(4,s=i?a:n)},[$,h,w,u,s,t,f,c,M,n,a,i,o,E,p,v,N,P]}class ns extends W{constructor(e){super(),q(this,e,Gt,Rt,H,{})}}export{ns as component,ss as universal};
