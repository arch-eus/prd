import{s as W,l as F,m as G,o as ae,u as le,p as re,q as oe,e as $,a as H,c as k,b as T,f as p,g as B,y as g,i as se,h,K as Ae,C as Z,v as ke,k as he,n as Ve,a7 as Xe,H as me,a8 as _e,J as be,L as Ge,z as ze,t as ie,d as ce,j as Je,B as De,P as Ze,M as We,Q as Ye,E as et}from"../chunks/scheduler.DrDOSCrp.js";import{S as Y,i as ee,c as O,a as q,m as x,t as w,b as I,d as L,g as Ue,e as Pe,f as ve,h as He}from"../chunks/index.BljkXhbZ.js";import{I as ue,g as fe,a as de,e as $e,t as Ne,f as Se,b as Fe}from"../chunks/Icon.C5GaHf5i.js";import{s as Ie,T as tt}from"../chunks/tag.COAFjn-V.js";import{X as Qe,T as nt}from"../chunks/TaskFormModal.CUYTaMxC.js";import{d as st}from"../chunks/index.D0tE5qX2.js";import{p as at}from"../chunks/stores.BsB0SR2j.js";import{R as lt,f as Be}from"../chunks/index.CSbLPxVj.js";import{g as rt}from"../chunks/entry.Q5SuwGPT.js";const ot=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,it=!1,ct=()=>({}),hn=Object.freeze(Object.defineProperty({__proto__:null,load:ct,ssr:it},Symbol.toStringTag,{value:"Module"}));function ut(l){let e;const a=l[2].default,s=ae(a,l,l[3],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,t){s&&s.m(n,t),e=!0},p(n,t){s&&s.p&&(!e||t&8)&&le(s,a,n,n[3],e?oe(a,n[3],t,null):re(n[3]),null)},i(n){e||(w(s,n),e=!0)},o(n){I(s,n),e=!1},d(n){s&&s.d(n)}}}function ft(l){let e,a;const s=[{name:"book"},l[1],{iconNode:l[0]}];let n={$$slots:{default:[ut]},$$scope:{ctx:l}};for(let t=0;t<s.length;t+=1)n=F(n,s[t]);return e=new ue({props:n}),{c(){O(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){x(e,t,r),a=!0},p(t,[r]){const o=r&3?fe(s,[s[0],r&2&&de(t[1]),r&1&&{iconNode:t[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){L(e,t)}}}function dt(l,e,a){let{$$slots:s={},$$scope:n}=e;const t=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"}]];return l.$$set=r=>{a(1,e=F(F({},e),G(r))),"$$scope"in r&&a(3,n=r.$$scope)},e=G(e),[t,e,s,n]}class ht extends Y{constructor(e){super(),ee(this,e,dt,ft,W,{})}}function mt(l){let e;const a=l[2].default,s=ae(a,l,l[3],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,t){s&&s.m(n,t),e=!0},p(n,t){s&&s.p&&(!e||t&8)&&le(s,a,n,n[3],e?oe(a,n[3],t,null):re(n[3]),null)},i(n){e||(w(s,n),e=!0)},o(n){I(s,n),e=!1},d(n){s&&s.d(n)}}}function gt(l){let e,a;const s=[{name:"calendar"},l[1],{iconNode:l[0]}];let n={$$slots:{default:[mt]},$$scope:{ctx:l}};for(let t=0;t<s.length;t+=1)n=F(n,s[t]);return e=new ue({props:n}),{c(){O(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){x(e,t,r),a=!0},p(t,[r]){const o=r&3?fe(s,[s[0],r&2&&de(t[1]),r&1&&{iconNode:t[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){L(e,t)}}}function pt(l,e,a){let{$$slots:s={},$$scope:n}=e;const t=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10"}]];return l.$$set=r=>{a(1,e=F(F({},e),G(r))),"$$scope"in r&&a(3,n=r.$$scope)},e=G(e),[t,e,s,n]}class _t extends Y{constructor(e){super(),ee(this,e,pt,gt,W,{})}}function bt(l){let e;const a=l[2].default,s=ae(a,l,l[3],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,t){s&&s.m(n,t),e=!0},p(n,t){s&&s.p&&(!e||t&8)&&le(s,a,n,n[3],e?oe(a,n[3],t,null):re(n[3]),null)},i(n){e||(w(s,n),e=!0)},o(n){I(s,n),e=!1},d(n){s&&s.d(n)}}}function vt(l){let e,a;const s=[{name:"check-square"},l[1],{iconNode:l[0]}];let n={$$slots:{default:[bt]},$$scope:{ctx:l}};for(let t=0;t<s.length;t+=1)n=F(n,s[t]);return e=new ue({props:n}),{c(){O(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){x(e,t,r),a=!0},p(t,[r]){const o=r&3?fe(s,[s[0],r&2&&de(t[1]),r&1&&{iconNode:t[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){L(e,t)}}}function $t(l,e,a){let{$$slots:s={},$$scope:n}=e;const t=[["path",{d:"m9 11 3 3L22 4"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}]];return l.$$set=r=>{a(1,e=F(F({},e),G(r))),"$$scope"in r&&a(3,n=r.$$scope)},e=G(e),[t,e,s,n]}class kt extends Y{constructor(e){super(),ee(this,e,$t,vt,W,{})}}function wt(l){let e;const a=l[2].default,s=ae(a,l,l[3],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,t){s&&s.m(n,t),e=!0},p(n,t){s&&s.p&&(!e||t&8)&&le(s,a,n,n[3],e?oe(a,n[3],t,null):re(n[3]),null)},i(n){e||(w(s,n),e=!0)},o(n){I(s,n),e=!1},d(n){s&&s.d(n)}}}function yt(l){let e,a;const s=[{name:"menu"},l[1],{iconNode:l[0]}];let n={$$slots:{default:[wt]},$$scope:{ctx:l}};for(let t=0;t<s.length;t+=1)n=F(n,s[t]);return e=new ue({props:n}),{c(){O(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){x(e,t,r),a=!0},p(t,[r]){const o=r&3?fe(s,[s[0],r&2&&de(t[1]),r&1&&{iconNode:t[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){L(e,t)}}}function Tt(l,e,a){let{$$slots:s={},$$scope:n}=e;const t=[["line",{x1:"4",x2:"20",y1:"12",y2:"12"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18"}]];return l.$$set=r=>{a(1,e=F(F({},e),G(r))),"$$scope"in r&&a(3,n=r.$$scope)},e=G(e),[t,e,s,n]}class Et extends Y{constructor(e){super(),ee(this,e,Tt,yt,W,{})}}function It(l){let e;const a=l[2].default,s=ae(a,l,l[3],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,t){s&&s.m(n,t),e=!0},p(n,t){s&&s.p&&(!e||t&8)&&le(s,a,n,n[3],e?oe(a,n[3],t,null):re(n[3]),null)},i(n){e||(w(s,n),e=!0)},o(n){I(s,n),e=!1},d(n){s&&s.d(n)}}}function Dt(l){let e,a;const s=[{name:"mic"},l[1],{iconNode:l[0]}];let n={$$slots:{default:[It]},$$scope:{ctx:l}};for(let t=0;t<s.length;t+=1)n=F(n,s[t]);return e=new ue({props:n}),{c(){O(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){x(e,t,r),a=!0},p(t,[r]){const o=r&3?fe(s,[s[0],r&2&&de(t[1]),r&1&&{iconNode:t[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){L(e,t)}}}function Nt(l,e,a){let{$$slots:s={},$$scope:n}=e;const t=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}]];return l.$$set=r=>{a(1,e=F(F({},e),G(r))),"$$scope"in r&&a(3,n=r.$$scope)},e=G(e),[t,e,s,n]}class St extends Y{constructor(e){super(),ee(this,e,Nt,Dt,W,{})}}function Vt(l){let e;const a=l[2].default,s=ae(a,l,l[3],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,t){s&&s.m(n,t),e=!0},p(n,t){s&&s.p&&(!e||t&8)&&le(s,a,n,n[3],e?oe(a,n[3],t,null):re(n[3]),null)},i(n){e||(w(s,n),e=!0)},o(n){I(s,n),e=!1},d(n){s&&s.d(n)}}}function Mt(l){let e,a;const s=[{name:"plus"},l[1],{iconNode:l[0]}];let n={$$slots:{default:[Vt]},$$scope:{ctx:l}};for(let t=0;t<s.length;t+=1)n=F(n,s[t]);return e=new ue({props:n}),{c(){O(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){x(e,t,r),a=!0},p(t,[r]){const o=r&3?fe(s,[s[0],r&2&&de(t[1]),r&1&&{iconNode:t[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){L(e,t)}}}function Ct(l,e,a){let{$$slots:s={},$$scope:n}=e;const t=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return l.$$set=r=>{a(1,e=F(F({},e),G(r))),"$$scope"in r&&a(3,n=r.$$scope)},e=G(e),[t,e,s,n]}class At extends Y{constructor(e){super(),ee(this,e,Ct,Mt,W,{})}}function Ht(l){let e;const a=l[2].default,s=ae(a,l,l[3],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,t){s&&s.m(n,t),e=!0},p(n,t){s&&s.p&&(!e||t&8)&&le(s,a,n,n[3],e?oe(a,n[3],t,null):re(n[3]),null)},i(n){e||(w(s,n),e=!0)},o(n){I(s,n),e=!1},d(n){s&&s.d(n)}}}function Bt(l){let e,a;const s=[{name:"search"},l[1],{iconNode:l[0]}];let n={$$slots:{default:[Ht]},$$scope:{ctx:l}};for(let t=0;t<s.length;t+=1)n=F(n,s[t]);return e=new ue({props:n}),{c(){O(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,r){x(e,t,r),a=!0},p(t,[r]){const o=r&3?fe(s,[s[0],r&2&&de(t[1]),r&1&&{iconNode:t[0]}]):{};r&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){L(e,t)}}}function Ot(l,e,a){let{$$slots:s={},$$scope:n}=e;const t=[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]];return l.$$set=r=>{a(1,e=F(F({},e),G(r))),"$$scope"in r&&a(3,n=r.$$scope)},e=G(e),[t,e,s,n]}class qt extends Y{constructor(e){super(),ee(this,e,Ot,Bt,W,{})}}function Oe(l){let e,a,s,n,t;return a=new Qe({props:{class:"h-4 w-4"}}),{c(){e=$("button"),O(a.$$.fragment),this.h()},l(r){e=k(r,"BUTTON",{class:!0});var o=T(e);q(a.$$.fragment,o),o.forEach(p),this.h()},h(){g(e,"class","absolute inset-y-0 right-0 pr-3 flex items-center text-navy-400 hover:text-navy-600")},m(r,o){se(r,e,o),x(a,e,null),s=!0,n||(t=Z(e,"click",l[2]),n=!0)},p:Ve,i(r){s||(w(a.$$.fragment,r),s=!0)},o(r){I(a.$$.fragment,r),s=!1},d(r){r&&p(e),L(a),n=!1,t()}}}function xt(l){let e,a,s,n,t,r,o,f,i;s=new qt({props:{class:"h-5 w-5 text-navy-400"}});let d=l[1]&&Oe(l);return{c(){e=$("div"),a=$("div"),O(s.$$.fragment),n=H(),t=$("input"),r=H(),d&&d.c(),this.h()},l(u){e=k(u,"DIV",{class:!0});var c=T(e);a=k(c,"DIV",{class:!0});var _=T(a);q(s.$$.fragment,_),_.forEach(p),n=B(c),t=k(c,"INPUT",{type:!0,placeholder:!0,class:!0}),r=B(c),d&&d.l(c),c.forEach(p),this.h()},h(){g(a,"class","absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"),g(t,"type","text"),g(t,"placeholder","Search tasks..."),g(t,"class","block w-full pl-10 pr-8 py-2 border-0 border-b-2 border-gray-200 focus:ring-0 focus:border-teal-500 bg-transparent text-sm transition-colors"),g(e,"class","relative")},m(u,c){se(u,e,c),h(e,a),x(s,a,null),h(e,n),h(e,t),l[4](t),Ae(t,l[1]),h(e,r),d&&d.m(e,null),o=!0,f||(i=[Z(t,"input",l[5]),Z(t,"keydown",l[3])],f=!0)},p(u,[c]){c&2&&t.value!==u[1]&&Ae(t,u[1]),u[1]?d?(d.p(u,c),c&2&&w(d,1)):(d=Oe(u),d.c(),w(d,1),d.m(e,null)):d&&(Ue(),I(d,1,1,()=>{d=null}),Pe())},i(u){o||(w(s.$$.fragment,u),w(d),o=!0)},o(u){I(s.$$.fragment,u),I(d),o=!1},d(u){u&&p(e),L(s),l[4](null),d&&d.d(),f=!1,ke(i)}}}function Lt(l,e,a){let s;he(l,Ie,i=>a(1,s=i));let{searchInput:n=null}=e;function t(){Xe(Ie,s="",s),n?.blur()}function r(i){i.key==="Escape"&&t()}function o(i){me[i?"unshift":"push"](()=>{n=i,a(0,n)})}function f(){s=this.value,Ie.set(s)}return l.$$set=i=>{"searchInput"in i&&a(0,n=i.searchInput)},[n,s,t,r,o,f]}class Rt extends Y{constructor(e){super(),ee(this,e,Lt,xt,W,{searchInput:0})}}function qe(l){let e;return{c(){e=$("span"),this.h()},l(a){e=k(a,"SPAN",{class:!0}),T(e).forEach(p),this.h()},h(){g(e,"class","absolute top-0 right-0 w-2 h-2 bg-teal-500 rounded-full")},m(a,s){se(a,e,s)},d(a){a&&p(e)}}}function jt(l){let e,a,s,n,t,r,o,f,i,d,u,c,_,P,Q,N,S,y,v,R;t=new Et({props:{class:"w-5 h-5"}});function E(m){l[5](m)}let M={};l[0]!==void 0&&(M.searchInput=l[0]),f=new Rt({props:M}),me.push(()=>ve(f,"searchInput",E)),_=new St({props:{class:"w-5 h-5"}});let V=l[1]&&qe();return S=new At({props:{class:"w-5 h-5"}}),{c(){e=$("header"),a=$("div"),s=$("div"),n=$("button"),O(t.$$.fragment),r=H(),o=$("div"),O(f.$$.fragment),d=H(),u=$("div"),c=$("button"),O(_.$$.fragment),P=H(),V&&V.c(),Q=H(),N=$("button"),O(S.$$.fragment),this.h()},l(m){e=k(m,"HEADER",{class:!0});var j=T(e);a=k(j,"DIV",{class:!0});var K=T(a);s=k(K,"DIV",{class:!0});var A=T(s);n=k(A,"BUTTON",{class:!0});var z=T(n);q(t.$$.fragment,z),z.forEach(p),A.forEach(p),r=B(K),o=k(K,"DIV",{class:!0});var b=T(o);q(f.$$.fragment,b),b.forEach(p),d=B(K),u=k(K,"DIV",{class:!0});var D=T(u);c=k(D,"BUTTON",{class:!0,title:!0});var U=T(c);q(_.$$.fragment,U),P=B(U),V&&V.l(U),U.forEach(p),Q=B(D),N=k(D,"BUTTON",{class:!0,title:!0});var te=T(N);q(S.$$.fragment,te),te.forEach(p),D.forEach(p),K.forEach(p),j.forEach(p),this.h()},h(){g(n,"class","lg:hidden p-2 hover:bg-navy-50 rounded-md"),g(s,"class","flex items-center gap-4"),g(o,"class","flex-1 max-w-xl"),g(c,"class","p-2 hover:bg-navy-50 rounded-md relative"),g(c,"title","Add task by voice"),_e(c,"text-teal-600",l[1]),g(N,"class","p-2 hover:bg-navy-50 rounded-md"),g(N,"title","Add new task"),g(u,"class","flex items-center gap-2"),g(a,"class","h-full px-4 flex items-center justify-between gap-4"),g(e,"class","fixed inset-x-0 top-0 h-16 bg-surface border-b border-navy-100 z-30")},m(m,j){se(m,e,j),h(e,a),h(a,s),h(s,n),x(t,n,null),h(a,r),h(a,o),x(f,o,null),h(a,d),h(a,u),h(u,c),x(_,c,null),h(c,P),V&&V.m(c,null),h(u,Q),h(u,N),x(S,N,null),y=!0,v||(R=[Z(n,"click",l[4]),Z(c,"click",l[3]),Z(N,"click",l[6])],v=!0)},p(m,[j]){const K={};!i&&j&1&&(i=!0,K.searchInput=m[0],be(()=>i=!1)),f.$set(K),m[1]?V||(V=qe(),V.c(),V.m(c,null)):V&&(V.d(1),V=null),(!y||j&2)&&_e(c,"text-teal-600",m[1])},i(m){y||(w(t.$$.fragment,m),w(f.$$.fragment,m),w(_.$$.fragment,m),w(S.$$.fragment,m),y=!0)},o(m){I(t.$$.fragment,m),I(f.$$.fragment,m),I(_.$$.fragment,m),I(S.$$.fragment,m),y=!1},d(m){m&&p(e),L(t),L(f),L(_),V&&V.d(),L(S),v=!1,ke(R)}}}function Kt(l,e,a){let{searchInput:s=null}=e,n=!1,t=null;const r=Ge();function o(){if(!("webkitSpeechRecognition"in window)){alert("Speech recognition is not supported in your browser");return}t||(t=new webkitSpeechRecognition,t.continuous=!1,t.interimResults=!1,t.lang="en-US",t.onresult=u=>{const c=u.results[0][0].transcript;r("newTask",{title:c}),a(1,n=!1)},t.onerror=()=>{a(1,n=!1)},t.onend=()=>{a(1,n=!1)}),a(1,n=!0),t.start()}const f=()=>r("toggleSidebar");function i(u){s=u,a(0,s)}const d=()=>r("newTask");return l.$$set=u=>{"searchInput"in u&&a(0,s=u.searchInput)},[s,n,r,o,f,i,d]}class zt extends Y{constructor(e){super(),ee(this,e,Kt,jt,W,{searchInput:0})}}function xe(l,e,a){const s=l.slice();return s[6]=e[a],s}function Le(l){let e,a,s,n=l[6]+"",t,r,o,f,i,d;a=new tt({props:{class:"w-3 h-3"}});function u(){return l[5](l[6])}return{c(){e=$("button"),O(a.$$.fragment),s=H(),t=ie(n),r=H(),this.h()},l(c){e=k(c,"BUTTON",{class:!0});var _=T(e);q(a.$$.fragment,_),s=B(_),t=ce(_,n),r=B(_),_.forEach(p),this.h()},h(){g(e,"class",o="flex items-center gap-1 px-3 py-1.5 rounded-full text-sm transition-colors "+(l[0].includes(l[6])?"bg-navy-600 text-white":"bg-navy-50 text-navy-600 hover:bg-navy-100"))},m(c,_){se(c,e,_),x(a,e,null),h(e,s),h(e,t),h(e,r),f=!0,i||(d=Z(e,"click",u),i=!0)},p(c,_){l=c,(!f||_&4)&&n!==(n=l[6]+"")&&Je(t,n),(!f||_&5&&o!==(o="flex items-center gap-1 px-3 py-1.5 rounded-full text-sm transition-colors "+(l[0].includes(l[6])?"bg-navy-600 text-white":"bg-navy-50 text-navy-600 hover:bg-navy-100")))&&g(e,"class",o)},i(c){f||(w(a.$$.fragment,c),f=!0)},o(c){I(a.$$.fragment,c),f=!1},d(c){c&&p(e),L(a),i=!1,d()}}}function Ut(l){let e,a,s,n=$e(l[2]),t=[];for(let o=0;o<n.length;o+=1)t[o]=Le(xe(l,n,o));const r=o=>I(t[o],1,1,()=>{t[o]=null});return{c(){e=$("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=k(o,"DIV",{class:!0});var f=T(e);for(let i=0;i<t.length;i+=1)t[i].l(f);f.forEach(p),this.h()},h(){g(e,"class",a=`flex gap-2 ${l[1]?"flex-col":"flex-wrap"}`)},m(o,f){se(o,e,f);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null);s=!0},p(o,[f]){if(f&21){n=$e(o[2]);let i;for(i=0;i<n.length;i+=1){const d=xe(o,n,i);t[i]?(t[i].p(d,f),w(t[i],1)):(t[i]=Le(d),t[i].c(),w(t[i],1),t[i].m(e,null))}for(Ue(),i=n.length;i<t.length;i+=1)r(i);Pe()}(!s||f&2&&a!==(a=`flex gap-2 ${o[1]?"flex-col":"flex-wrap"}`))&&g(e,"class",a)},i(o){if(!s){for(let f=0;f<n.length;f+=1)w(t[f]);s=!0}},o(o){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)I(t[f]);s=!1},d(o){o&&p(e),ze(t,o)}}}function Pt(l,e,a){let s,{selectedTags:n=[]}=e,{vertical:t=!1}=e;const r=st(Ne,i=>{const d=new Set;return i.tasks.forEach(u=>{u.labels?.forEach(c=>d.add(c))}),Array.from(d).sort((u,c)=>u.localeCompare(c))});he(l,r,i=>a(2,s=i));function o(i){a(0,n=n.includes(i)?n.filter(d=>d!==i):[...n,i])}const f=i=>o(i);return l.$$set=i=>{"selectedTags"in i&&a(0,n=i.selectedTags),"vertical"in i&&a(1,t=i.vertical)},[n,t,s,r,o,f]}class Ft extends Y{constructor(e){super(),ee(this,e,Pt,Ut,W,{selectedTags:0,vertical:1})}}function Qt(l){let e,a,s,n="Tasks",t,r,o,f,i,d,u,c,_,P,Q,N,S,y,v,R,E,M,V,m,j,K,A,z="Tags",b,D,U,te,X;o=new _t({props:{class:"w-4 h-4"}}),c=new lt({props:{class:"w-4 h-4"}}),S=new kt({props:{class:"w-4 h-4"}}),M=new ht({props:{class:"w-4 h-4"}});function ge(C){l[2](C)}let Me={vertical:!0};return l[1]!==void 0&&(Me.selectedTags=l[1]),U=new Ft({props:Me}),me.push(()=>ve(U,"selectedTags",ge)),{c(){e=$("nav"),a=$("div"),s=$("h3"),s.textContent=n,t=H(),r=$("a"),O(o.$$.fragment),f=ie(`
      Overview`),d=H(),u=$("a"),O(c.$$.fragment),_=ie(`
      Recurring`),Q=H(),N=$("a"),O(S.$$.fragment),y=ie(`
      Completed`),R=H(),E=$("a"),O(M.$$.fragment),V=ie(`
      Logbook`),j=H(),K=$("div"),A=$("h3"),A.textContent=z,b=H(),D=$("div"),O(U.$$.fragment),this.h()},l(C){e=k(C,"NAV",{class:!0});var ne=T(e);a=k(ne,"DIV",{class:!0});var J=T(a);s=k(J,"H3",{class:!0,"data-svelte-h":!0}),De(s)!=="svelte-ytwhzg"&&(s.textContent=n),t=B(J),r=k(J,"A",{href:!0,class:!0});var we=T(r);q(o.$$.fragment,we),f=ce(we,`
      Overview`),we.forEach(p),d=B(J),u=k(J,"A",{href:!0,class:!0});var ye=T(u);q(c.$$.fragment,ye),_=ce(ye,`
      Recurring`),ye.forEach(p),Q=B(J),N=k(J,"A",{href:!0,class:!0});var Te=T(N);q(S.$$.fragment,Te),y=ce(Te,`
      Completed`),Te.forEach(p),R=B(J),E=k(J,"A",{href:!0,class:!0});var Ee=T(E);q(M.$$.fragment,Ee),V=ce(Ee,`
      Logbook`),Ee.forEach(p),J.forEach(p),j=B(ne),K=k(ne,"DIV",{class:!0});var pe=T(K);A=k(pe,"H3",{class:!0,"data-svelte-h":!0}),De(A)!=="svelte-1kt67db"&&(A.textContent=z),b=B(pe),D=k(pe,"DIV",{class:!0});var Ce=T(D);q(U.$$.fragment,Ce),Ce.forEach(p),pe.forEach(p),ne.forEach(p),this.h()},h(){g(s,"class","px-4 text-sm font-medium text-navy-400"),g(r,"href","/"),g(r,"class",i="flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors "+(l[0].url.pathname==="/"?"bg-navy-600 text-white":"text-navy-800 hover:bg-navy-50")),g(u,"href","/recurring"),g(u,"class",P="flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors "+(l[0].url.pathname==="/recurring"?"bg-navy-600 text-white":"text-navy-800 hover:bg-navy-50")),g(N,"href","/completed"),g(N,"class",v="flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors "+(l[0].url.pathname==="/completed"?"bg-navy-600 text-white":"text-navy-800 hover:bg-navy-50")),g(E,"href","/logbook"),g(E,"class",m="flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors "+(l[0].url.pathname==="/logbook"?"bg-navy-600 text-white":"text-navy-800 hover:bg-navy-50")),g(a,"class","space-y-2"),g(A,"class","px-4 text-sm font-medium text-navy-400"),g(D,"class","px-4"),g(K,"class","space-y-2"),g(e,"class","p-4 space-y-6 font-jetbrains-mono")},m(C,ne){se(C,e,ne),h(e,a),h(a,s),h(a,t),h(a,r),x(o,r,null),h(r,f),h(a,d),h(a,u),x(c,u,null),h(u,_),h(a,Q),h(a,N),x(S,N,null),h(N,y),h(a,R),h(a,E),x(M,E,null),h(E,V),h(e,j),h(e,K),h(K,A),h(K,b),h(K,D),x(U,D,null),X=!0},p(C,[ne]){(!X||ne&1&&i!==(i="flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors "+(C[0].url.pathname==="/"?"bg-navy-600 text-white":"text-navy-800 hover:bg-navy-50")))&&g(r,"class",i),(!X||ne&1&&P!==(P="flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors "+(C[0].url.pathname==="/recurring"?"bg-navy-600 text-white":"text-navy-800 hover:bg-navy-50")))&&g(u,"class",P),(!X||ne&1&&v!==(v="flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors "+(C[0].url.pathname==="/completed"?"bg-navy-600 text-white":"text-navy-800 hover:bg-navy-50")))&&g(N,"class",v),(!X||ne&1&&m!==(m="flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors "+(C[0].url.pathname==="/logbook"?"bg-navy-600 text-white":"text-navy-800 hover:bg-navy-50")))&&g(E,"class",m);const J={};!te&&ne&2&&(te=!0,J.selectedTags=C[1],be(()=>te=!1)),U.$set(J)},i(C){X||(w(o.$$.fragment,C),w(c.$$.fragment,C),w(S.$$.fragment,C),w(M.$$.fragment,C),w(U.$$.fragment,C),X=!0)},o(C){I(o.$$.fragment,C),I(c.$$.fragment,C),I(S.$$.fragment,C),I(M.$$.fragment,C),I(U.$$.fragment,C),X=!1},d(C){C&&p(e),L(o),L(c),L(S),L(M),L(U)}}}function Xt(l,e,a){let s,n;he(l,at,r=>a(0,s=r)),he(l,Se,r=>a(1,n=r));function t(r){n=r,Se.set(n)}return[s,n,t]}class Gt extends Y{constructor(e){super(),ee(this,e,Xt,Qt,W,{})}}function Re(l,e,a){const s=l.slice();return s[4]=e[a].key,s[5]=e[a].description,s}function je(l){let e,a,s=l[5]+"",n,t,r,o=l[4]+"",f,i;return{c(){e=$("div"),a=$("span"),n=ie(s),t=H(),r=$("kbd"),f=ie(o),i=H(),this.h()},l(d){e=k(d,"DIV",{class:!0});var u=T(e);a=k(u,"SPAN",{class:!0});var c=T(a);n=ce(c,s),c.forEach(p),t=B(u),r=k(u,"KBD",{class:!0});var _=T(r);f=ce(_,o),_.forEach(p),i=B(u),u.forEach(p),this.h()},h(){g(a,"class","text-navy-600"),g(r,"class","px-2 py-1 bg-navy-50 rounded text-sm"),g(e,"class","flex items-center justify-between")},m(d,u){se(d,e,u),h(e,a),h(a,n),h(e,t),h(e,r),h(r,f),h(e,i)},p:Ve,d(d){d&&p(e)}}}function Jt(l){let e,a,s,n,t,r,o,f,i,d="Keyboard Shortcuts",u,c,_,P,Q,N;o=new Qe({props:{class:"w-5 h-5"}});let S=$e(l[1]),y=[];for(let v=0;v<S.length;v+=1)y[v]=je(Re(l,S,v));return{c(){e=$("div"),a=$("div"),s=H(),n=$("div"),t=$("div"),r=$("button"),O(o.$$.fragment),f=H(),i=$("h2"),i.textContent=d,u=H(),c=$("div");for(let v=0;v<y.length;v+=1)y[v].c();this.h()},l(v){e=k(v,"DIV",{class:!0});var R=T(e);a=k(R,"DIV",{class:!0}),T(a).forEach(p),s=B(R),n=k(R,"DIV",{class:!0});var E=T(n);t=k(E,"DIV",{class:!0});var M=T(t);r=k(M,"BUTTON",{class:!0});var V=T(r);q(o.$$.fragment,V),V.forEach(p),f=B(M),i=k(M,"H2",{class:!0,"data-svelte-h":!0}),De(i)!=="svelte-mtw78c"&&(i.textContent=d),u=B(M),c=k(M,"DIV",{class:!0});var m=T(c);for(let j=0;j<y.length;j+=1)y[j].l(m);m.forEach(p),M.forEach(p),E.forEach(p),R.forEach(p),this.h()},h(){g(a,"class","absolute inset-0 bg-navy-900/20"),g(r,"class","absolute right-4 top-4 text-navy-400 hover:text-navy-600"),g(i,"class","text-xl font-bold mb-4"),g(c,"class","space-y-2"),g(t,"class","p-6"),g(n,"class","relative w-full max-w-lg bg-white rounded-lg shadow-xl"),g(e,"class","fixed inset-0 z-50 flex items-center justify-center p-4"),_e(e,"hidden",!l[0])},m(v,R){se(v,e,R),h(e,a),h(e,s),h(e,n),h(n,t),h(t,r),x(o,r,null),h(t,f),h(t,i),h(t,u),h(t,c);for(let E=0;E<y.length;E+=1)y[E]&&y[E].m(c,null);P=!0,Q||(N=[Z(a,"click",l[2]),Z(r,"click",l[2]),Z(n,"click",Ze(l[3]))],Q=!0)},p(v,[R]){if(R&2){S=$e(v[1]);let E;for(E=0;E<S.length;E+=1){const M=Re(v,S,E);y[E]?y[E].p(M,R):(y[E]=je(M),y[E].c(),y[E].m(c,null))}for(;E<y.length;E+=1)y[E].d(1);y.length=S.length}(!P||R&1)&&_e(e,"hidden",!v[0])},i(v){P||(w(o.$$.fragment,v),v&&We(()=>{P&&(_||(_=He(e,Be,{duration:200},!0)),_.run(1))}),P=!0)},o(v){I(o.$$.fragment,v),v&&(_||(_=He(e,Be,{duration:200},!1)),_.run(0)),P=!1},d(v){v&&p(e),L(o),ze(y,v),v&&_&&_.end(),Q=!1,ke(N)}}}function Zt(l,e,a){let{show:s=!1}=e;const n=[{key:"?",description:"Show keyboard shortcuts"},{key:"n",description:"Create new task"},{key:"/",description:"Focus search"},{key:"t",description:"Go to today"},{key:"Esc",description:"Close modal / Clear search"}];function t(){a(0,s=!1)}function r(o){Ye.call(this,l,o)}return l.$$set=o=>{"show"in o&&a(0,s=o.show)},[s,n,t,r]}class Wt extends Y{constructor(e){super(),ee(this,e,Zt,Jt,W,{show:0})}}function Yt({showHelp:l,showNewTask:e,submitForm:a,closeModals:s,searchInput:n}){return function(r){if(r.key==="Enter"&&r.ctrlKey){r.preventDefault(),a();return}if(r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement){r.key==="Escape"&&(r.preventDefault(),r.target.blur(),s());return}switch(r.key){case"Escape":r.preventDefault(),s();break;case"?":r.preventDefault(),l();break;case"n":r.preventDefault(),e();break;case"/":r.preventDefault(),n?.focus();break;case"t":r.preventDefault(),Fe.set(new Date),rt("/");break}}}const{window:en}=ot;function Ke(l){let e,a,s;return{c(){e=$("div"),this.h()},l(n){e=k(n,"DIV",{class:!0}),T(e).forEach(p),this.h()},h(){g(e,"class","fixed inset-0 bg-navy-900/20 transition-opacity lg:hidden z-10")},m(n,t){se(n,e,t),a||(s=Z(e,"click",l[19]),a=!0)},p:Ve,d(n){n&&p(e),a=!1,s()}}}function tn(l){let e,a,s,n,t,r,o,f,i,d,u,c,_,P,Q,N,S,y,v,R;function E(b){l[14](b)}let M={};l[4]!==void 0&&(M.searchInput=l[4]),a=new zt({props:M}),me.push(()=>ve(a,"searchInput",E)),a.$on("toggleSidebar",l[15]),a.$on("newTask",l[10]);function V(b){l[16](b)}let m={};l[2]!==void 0&&(m.show=l[2]),t=new Wt({props:m}),me.push(()=>ve(t,"show",V));let j={show:l[1],task:{title:l[3],labels:l[7],dueDate:l[6]||new Date}};f=new nt({props:j}),l[17](f),f.$on("submit",l[11]),f.$on("close",l[18]),c=new Gt({});const K=l[13].default,A=ae(K,l,l[12],null);let z=l[0]&&Ke(l);return{c(){e=$("div"),O(a.$$.fragment),n=H(),O(t.$$.fragment),o=H(),O(f.$$.fragment),i=H(),d=$("div"),u=$("aside"),O(c.$$.fragment),P=H(),Q=$("main"),N=$("div"),A&&A.c(),S=H(),z&&z.c(),this.h()},l(b){e=k(b,"DIV",{class:!0});var D=T(e);q(a.$$.fragment,D),n=B(D),q(t.$$.fragment,D),o=B(D),q(f.$$.fragment,D),i=B(D),d=k(D,"DIV",{class:!0});var U=T(d);u=k(U,"ASIDE",{class:!0});var te=T(u);q(c.$$.fragment,te),te.forEach(p),P=B(U),Q=k(U,"MAIN",{class:!0});var X=T(Q);N=k(X,"DIV",{class:!0});var ge=T(N);A&&A.l(ge),ge.forEach(p),X.forEach(p),U.forEach(p),S=B(D),z&&z.l(D),D.forEach(p),this.h()},h(){g(u,"class",_="fixed inset-y-0 left-0 pt-16 w-64 bg-surface border-r border-navy-100 transform transition-transform duration-300 ease-in-out lg:translate-x-0 z-20 "+(l[0]?"translate-x-0":"-translate-x-full")),g(N,"class","p-4 sm:p-6 lg:p-8"),g(Q,"class","flex-1 lg:pl-64"),g(d,"class","flex pt-16"),g(e,"class","min-h-screen bg-background font-jetbrains-mono")},m(b,D){se(b,e,D),x(a,e,null),h(e,n),x(t,e,null),h(e,o),x(f,e,null),h(e,i),h(e,d),h(d,u),x(c,u,null),h(d,P),h(d,Q),h(Q,N),A&&A.m(N,null),h(e,S),z&&z.m(e,null),y=!0,v||(R=[Z(en,"mousemove",l[8]),Z(u,"mouseenter",l[9])],v=!0)},p(b,[D]){const U={};!s&&D&16&&(s=!0,U.searchInput=b[4],be(()=>s=!1)),a.$set(U);const te={};!r&&D&4&&(r=!0,te.show=b[2],be(()=>r=!1)),t.$set(te);const X={};D&2&&(X.show=b[1]),D&200&&(X.task={title:b[3],labels:b[7],dueDate:b[6]||new Date}),f.$set(X),(!y||D&1&&_!==(_="fixed inset-y-0 left-0 pt-16 w-64 bg-surface border-r border-navy-100 transform transition-transform duration-300 ease-in-out lg:translate-x-0 z-20 "+(b[0]?"translate-x-0":"-translate-x-full")))&&g(u,"class",_),A&&A.p&&(!y||D&4096)&&le(A,K,b,b[12],y?oe(K,b[12],D,null):re(b[12]),null),b[0]?z?z.p(b,D):(z=Ke(b),z.c(),z.m(e,null)):z&&(z.d(1),z=null)},i(b){y||(w(a.$$.fragment,b),w(t.$$.fragment,b),w(f.$$.fragment,b),w(c.$$.fragment,b),w(A,b),y=!0)},o(b){I(a.$$.fragment,b),I(t.$$.fragment,b),I(f.$$.fragment,b),I(c.$$.fragment,b),I(A,b),y=!1},d(b){b&&p(e),L(a),L(t),l[17](null),L(f),L(c),A&&A.d(b),z&&z.d(),v=!1,ke(R)}}}function nn(l,e,a){let s,n;he(l,Fe,m=>a(6,s=m)),he(l,Se,m=>a(7,n=m));let{$$slots:t={},$$scope:r}=e,o=!1,f,i=!1,d=!1,u="",c=null,_=null;et(()=>{Ne.init();function m(){a(1,i=!1),a(2,d=!1),a(3,u="")}const j=Yt({showHelp:()=>a(2,d=!0),showNewTask:()=>a(1,i=!0),submitForm:()=>_?.submitForm(),closeModals:m,searchInput:c});return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)});function P(m){m.clientX<20&&!o?(clearTimeout(f),a(0,o=!0)):m.clientX>256&&o&&(f=window.setTimeout(()=>{a(0,o=!1)},300))}function Q(){clearTimeout(f)}function N(m){a(3,u=m.detail?.title||""),a(1,i=!0)}function S(m){const j={...m.detail.task,labels:m.detail.task.labels?.length?m.detail.task.labels:[...n||[]],dueDate:s||new Date};Ne.addTask(j),a(1,i=!1),a(3,u="")}function y(m){c=m,a(4,c)}const v=()=>a(0,o=!o);function R(m){d=m,a(2,d)}function E(m){me[m?"unshift":"push"](()=>{_=m,a(5,_)})}const M=()=>{a(1,i=!1),a(3,u="")},V=()=>a(0,o=!1);return l.$$set=m=>{"$$scope"in m&&a(12,r=m.$$scope)},[o,i,d,u,c,_,s,n,P,Q,N,S,r,t,y,v,R,E,M,V]}class mn extends Y{constructor(e){super(),ee(this,e,nn,tn,W,{})}}export{mn as component,hn as universal};
